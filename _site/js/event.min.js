"use strict";!function(){var e=function(){var e=document.getElementById("mappos").value,t=e.split(","),o=parseFloat(t[0]),n=parseFloat(t[1]),i={lat:o,lng:n},a=new google.maps.Map(document.getElementById("map"),{zoom:16,center:i});new google.maps.Marker({position:i,map:a})};window.initMap=e}(),function(){$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this).attr("href"),t=e.split("#")[1],o="a[id='"+t+"']",n=$(o);if(n=n.length?n:$("[name="+this.hash.slice(1)+"]"),n.length)return $("html, body").animate({scrollTop:n.offset().top},1e3),!1}}),$("#down-button").hide(),$("#down-button").click(function(){$("html, body").animate({scrollTop:0},1e3),$("#down-button").fadeOut(1e3)}),window.addEventListener("scroll",function(){$(window).scrollTop()>0&&$("#down-button").fadeIn(1e3),0===$(window).scrollTop()&&$("#down-button").fadeOut(1e3)})})}(),function(){function e(e,t){var o=0,n=0;if(e.forEach(function(e){o+=1,e.indexOf(t)!==-1&&(n=1)}),o===e.length)return n}$(function(){$(".nav.navbar-nav > li a").removeClass("active");var t=window.location.href.split("/");e(t,"tracks.html")?$("#trackslink").addClass("active"):e(t,"rooms.html")?$("#roomslink").addClass("active"):e(t,"schedule.html")?$("#schedulelink").addClass("active"):e(t,"speakers.html")?$("#speakerslink").addClass("active"):e(t,"sessions.html")?$("#sessionslink").addClass("active"):$("#homelink").addClass("active")})}(),function(){$(document).ready(function(){function e(e){event=e||window.event,s.addClass("hide"),o(),event.preventDefault(),event.stopPropagation();var n,i=$(".main").offset().top+$(".main").outerHeight(),a=d;timeOftrack=c,n=a.is(event.target)?$(event.target):timeOftrack.is(event.target)?$(event.target).parent():$(event.target).children("h4");var r=$(n).next();r.removeClass("hide"),n.css({"text-decoration":"underline"});var l=n.offset().top+n.outerHeight()+r.outerHeight()+15;shift=l-i,shift>0?$(".footer").css({position:"absolute",top:i+shift,width:"100%","z-index":"999"}):t()}function t(){$(".classic").css({position:"static"})}function o(){d.css({"text-decoration":"none"})}function n(e){var o=e.target;$(".footer");f=$(".image-holder").is(o)?$(o):$(o).parent().parent();var n=f.offset().top,i=f.outerHeight(),a=f.next(),r=a.outerHeight(),s=n+i+r;if(void 0!==$(".speakers-row").offset()){var l=$(".speakers-row").offset().top+$(".speakers-row").outerHeight()+$(".classic").outerHeight(),d=s-l;d>0&&$(".classic").css({position:"absolute",top:l+d,width:"100%","z-index":"999"})}else t()}function i(e){var t=$(".image-holder"),o=($(".speaker"),$(".hover-state"),$(".pop-box"));$(".preserve3d");o.addClass("hide"),e.preventDefault(),e.stopPropagation();var i=e.target;t.is(e.target)?($(i).next().removeClass("hide"),$(i).children(".preserve3d").addClass("hover-state")):($(i).parents(".image-holder").next().removeClass("hide"),$(i).parent().children(".preserve3d").addClass("hover-state")),n(e)}function a(e){$(".preserve3d").is(e.target)||(s.addClass("hide"),$(document).removeClass("hover-state")),$(".preserve3d").is(e.target)||$(".pop-box").is(e.target)||n(e)}var r=$(window).width(),s=$(".pop-box"),l=$(".header-pop"),d=$(".sizeevent"),c=$(".sizeevent span");$(".speaker-info");s.addClass("hide"),r<768?$(document).on("click",".sizeevent",function(t){e(t)}):l.hover(function(t){e(t)},function(){s.addClass("hide"),t(),o()});var f=$(".image-holder"),h=$(".speaker"),u=$(".hover-state"),p=($(".preserve3d"),0);r<768?$(document).on("click",".image-holder",function(e){0===p?(i(e),p=1):(a(e),p=0)}):(f.hover(function(e){i(e)},function(e){a(e)}),h.hover(function(e){u.is(e.target)||(s.addClass("hide"),t())}),$(document).hover(function(e){s.addClass("hide"),t()})),r<768&&$(document).mouseup(function(e){var o=s;o.is(e.target)||0!==o.has(e.target).length||(o.addClass("hide"),t(),a(e))})})}(),function(){window.loklakFetcher=function(){var e=null;return{getTweets:function(t,o){if("function"==typeof t)o=t,t={};else if(void 0===o)throw new Error("[LOKLAK-FETCHER] No callback provided");var n=["count","source","fields","limit","tzOffset","minified"],i=[100,"cache","","",0,!0];void 0===t&&(t={});var a=document.getElementById("tweets"),r=a.dataset;r.count&&(t[n[0]]=r.count);var s;r.query&&(s=r.query.replace(/\s/gi,"%20").replace(/#/gi,"%23").replace("_","")),r.start&&(s=s+"%20since:"+r.start),r.end&&(s=s+"%20until:"+r.end),r.from&&(s=s+"%20from:"+r.from);for(var l in n)void 0===t[n[l]]&&(t[n[l]]=i[l]);var d="http://loklak.org/api/search.json?callback=loklakFetcher.handleData&q="+s+"&count="+t.count+"&source="+t.source+"&fields="+t.fields+"&limit="+t.limit+"&timezoneOffset="+t.tzOffset+"&minified="+t.minified;null!==e&&document.head.removeChild(e),this.handleData=function(e){o(e)},e=document.createElement("script"),e.src=d,document.head.appendChild(e)}}}()}(),function(){function e(){null!==r?(clearInterval(r),r=window.setInterval(n,6600)):r=window.setInterval(n,6600)}function t(t){d=t,a(d),e()}function o(){a(d)}function n(){f+=1,f==document.getElementById("tweets").dataset.count&&(f=0),e(),s.style.opacity=0,l.style.opacity=0,window.setTimeout(o,560)}function i(e){var t=Math.floor((new Date-e)/1e3),o=Math.floor(t/31536e3);return o>1?o+" years":(o=Math.floor(t/2592e3))>1?o+" months":(o=Math.floor(t/86400))>1?o+" days":(o=Math.floor(t/3600))>1?o+" hours":(o=Math.floor(t/60),o>1?o+" minutes":Math.floor(t)+" seconds")}function a(e){try{var t="",o=e.statuses[f].text,n=o.split(" "),a=0;for(var r in n)n[r].startsWith("@")?t+="<a href='https://twitter.com/"+n[r].slice(1)+"' target='_blank'>"+n[r]+"</a> ":n[r].startsWith("#")?t+="<a href='https://twitter.com/hashtag/"+n[r].slice(1)+"' target='_blank'>"+n[r]+"</a> ":n[r].startsWith("http")?n[r].startsWith("http://loklak")?(t+="<a href='"+e.statuses[f].links[a]+"' target='_blank'>"+e.statuses[f].links[a]+"</a> ",a+=1):t+="<a href='"+n[r]+"' target='_blank' style='word-break:break-all'>"+n[r]+"</a> ":t+=n[r]+" ";s.innerHTML=t;var d=(e.statuses[f].user,new Date(e.statuses[f].created_at));l.innerHTML="Tweeted "+i(d)+" ago",s.style.opacity=1,l.style.opacity=1}catch(e){s.innerHTML="No Tweets Available",s.style.opacity=1}}var r=null,s=document.getElementById("tweet"),l=document.getElementById("dateTweeted"),d=null,c=function(){loklakFetcher.getTweets({},t)},f=0;window.datafetcher=c}(),function(){!function(e,t,o,n){var i=e(t);e.fn.lazyload=function(n){function a(){var t=0;s.each(function(){var o=e(this);if(!l.skip_invisible||o.is(":visible"))if(e.abovethetop(this,l)||e.leftofbegin(this,l));else if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else o.trigger("appear"),t=0})}var r,s=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return n&&(void 0!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),void 0!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),e.extend(l,n)),r=void 0===l.container||l.container===t?i:e(l.container),0===l.event.indexOf("scroll")&&r.bind(l.event,function(){return a()}),this.each(function(){var t=this,o=e(t);t.loaded=!1,void 0!==o.attr("src")&&o.attr("src")!==!1||o.is("img")&&o.attr("src",l.placeholder),o.one("appear",function(){if(!this.loaded){if(l.appear){var n=s.length;l.appear.call(t,n,l)}e("<img />").bind("load",function(){var n=o.attr("data-"+l.data_attribute);if(o.hide(),o.is("img")?o.attr("src",n):o.css("background-image","url('"+n+"')"),o[l.effect](l.effect_speed),t.loaded=!0,s=e(e.grep(s,function(e){return!e.loaded})),l.load){var i=s.length;l.load.call(t,i,l)}}).attr("src",o.attr("data-"+l.data_attribute))}}),0!==l.event.indexOf("scroll")&&o.bind(l.event,function(){t.loaded||o.trigger("appear")})}),i.bind("resize",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&s.each(function(){e(this).trigger("appear")})}),e(o).ready(function(){a()}),this},e.belowthefold=function(o,n){return(void 0===n.container||n.container===t?(t.innerHeight?t.innerHeight:i.height())+i.scrollTop():e(n.container).offset().top+e(n.container).height())<=e(o).offset().top-n.threshold},e.rightoffold=function(o,n){return(void 0===n.container||n.container===t?i.width()+i.scrollLeft():e(n.container).offset().left+e(n.container).width())<=e(o).offset().left-n.threshold},e.abovethetop=function(o,n){return(void 0===n.container||n.container===t?i.scrollTop():e(n.container).offset().top)>=e(o).offset().top+n.threshold+e(o).height()},e.leftofbegin=function(o,n){return(void 0===n.container||n.container===t?i.scrollLeft():e(n.container).offset().left)>=e(o).offset().left+n.threshold+e(o).width()},e.inviewport=function(t,o){return!(e.rightoffold(t,o)||e.leftofbegin(t,o)||e.belowthefold(t,o)||e.abovethetop(t,o))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document)}();